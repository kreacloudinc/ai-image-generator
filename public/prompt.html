<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generatore Immagini AI - Prompt</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Generatore Immagini AI</h1>
            <p>Descrivi l'immagine che vuoi generare</p>
        </header>

        <main class="prompt-section">
            <!-- Anteprima immagine originale -->
            <div class="original-image-preview">
                <h3>Immagine originale:</h3>
                <img id="originalImage" src="" alt="Immagine originale" class="small-preview">
            </div>

            <!-- Sezione prompt -->
            <div class="prompt-form">
                <div class="form-group">
                    <label for="promptText">Prompt descrittivo:</label>
                    <textarea 
                        id="promptText" 
                        placeholder="Descrivi dettagliatamente l'immagine che vuoi generare. Ad esempio: 'Trasforma questa immagine in uno stile cartoon colorato con sfondo fantastico e luci magiche...'"
                        rows="6"
                    ></textarea>
                    
                    <!-- Prompt predefiniti vicino al campo -->
                    <div class="prompt-presets">
                        <h4>üí° Prompt predefiniti:</h4>
                        <div class="presets-grid">
                            <button type="button" class="preset-btn" data-prompt="Use the provided photo as the face without modifying facial features or expressions. Create a high-tech portrait titled 'The Racer'. The subject wears a futuristic blue racing suit with red accents, aerodynamic seams, and carbon fiber padding. He holds a racing helmet under one arm, designed with aggressive red stripes and black reflective visors. The background is an illuminated red racing pit, filled with neon panels, futuristic speed indicators, and dynamic diagonal light beams, suggesting motion and speed. Realistic and cinematic lighting.">
                                üèéÔ∏è The Racer
                            </button>
                            <button type="button" class="preset-btn" data-prompt="Use the provided photo as the face without altering facial features or expressions. Create a futuristic sci-fi portrait titled 'The Pilot'. The subject wears a highly detailed, red and black armored flight suit with metallic and carbon fiber textures, featuring tubes, connectors, and insignias. Add a sleek, high-tech helmet with integrated comms gear resting on the head, with illuminated red elements. The background is a vibrant red with holographic HUD-style circular graphics, light effects, and subtle glowing data streams. Lighting should emphasize depth, realism, and cinematic atmosphere.">
                                ‚úàÔ∏è The Pilot
                            </button>
                            <button type="button" class="preset-btn" data-prompt="Use the provided photo as the face without modifying facial features or expressions. Create a portrait titled 'The Futurist'. The subject wears a sleek, dark suit with glowing orange-red circuitry integrated into the fabric. Add transparent augmented reality glasses with subtle UI projections hovering around them. Background features a deep red holographic circuit board design, floating data patterns, and minimalistic digital interfaces. Clean, minimal yet highly technological atmosphere, with soft but vivid illumination.">
                                üîÆ The Futurist
                            </button>
                            <button type="button" class="preset-btn" data-prompt="Use the provided photo as the face without modifying facial features or expressions. Create a portrait titled 'The Designer'. The subject holds a high-tech digital tablet with a glowing red holographic 3D interface. He wears a futuristic dark jacket with red-orange seams and illuminated emblem on the chest. The background is red with geometric digital grids, wireframes, and circuit-like structures. The overall mood is creative, futuristic, and elegant, with precise lighting to create depth and realism.">
                                üé® The Designer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Contatori -->
                    <div class="prompt-counters">
                        <div class="counter-item">
                            <span class="label">Caratteri:</span>
                            <span id="charCount">0</span>
                        </div>
                        <div class="counter-item">
                            <span class="label">Token stimati:</span>
                            <span id="tokenCount">0</span>
                        </div>
                    </div>
                </div>

                <!-- Negative Prompt (opzionale) -->
                <div class="negative-prompt-section">
                    <div class="form-group">
                        <label for="negativePrompt">üö´ Negative Prompt (opzionale):</label>
                        <textarea 
                            id="negativePrompt" 
                            placeholder="Descrivi cosa NON vuoi nell'immagine (es: blur, low quality, deformed, bad anatomy, extra limbs...)"
                            rows="3"
                        ></textarea>
                        <small class="negative-prompt-note">
                            üí° Supportato da Stability AI per migliorare la qualit√† evitando elementi indesiderati
                        </small>
                    </div>
                </div>

                <!-- Selezione Provider AI -->
                <div class="provider-selection">
                    <h4>ü§ñ Seleziona Provider AI:</h4>
                    <div class="provider-options">
                        <label class="provider-option">
                            <input type="radio" name="provider" value="both" checked>
                            <span class="provider-info">
                                <strong>üî• Tutti (Confronto Completo)</strong>
                                <small>Tutti i 4 modelli AI - Migliore qualit√† e confronto</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="imagen4">
                            <span class="provider-info">
                                <strong>üöÄ Google Gemini 1.5 Pro Vision</strong>
                                <small>Analisi veloce e dettagliata - ~$0.005 per prompt</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="openai">
                            <span class="provider-info">
                                <strong>üé® OpenAI DALL-E 3 HD</strong>
                                <small>Alta qualit√† - $0.080 per immagine</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="gemini">
                            <span class="provider-info">
                                <strong>üîÆ Google Gemini 2.5</strong>
                                <small>Analisi e trasformazione - $0.339 per immagine</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="stability">
                            <span class="provider-info">
                                <strong>‚ö° Stability AI SDXL</strong>
                                <small>Stable Diffusion ottimizzato - $0.020 per immagine</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="imagen4">
                            <span class="provider-info">
                                <strong>üöÄ Google Imagen 4 Fast</strong>
                                <small>Veloce ed economico - $0.001 per immagine</small>
                            </span>
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="backBtn">
                        ‚Üê Indietro
                    </button>
                    <button type="button" class="btn btn-primary" id="generateBtn" disabled>
                        üé® Genera Immagine
                    </button>
                </div>
            </div>

            <!-- Sezione loading -->
            <div class="loading-section" id="loadingSection" style="display: none;">
                <div class="spinner"></div>
                <p>Generazione in corso...</p>
                <p class="loading-detail">Questo potrebbe richiedere alcuni secondi</p>
            </div>

            <!-- Sezione errore -->
            <div class="error-section" id="errorSection" style="display: none;">
                <div class="error-message" id="errorMessage"></div>
                <button type="button" class="btn btn-secondary" id="retryBtn">
                    Riprova
                </button>
            </div>
        </main>

        <!-- Loader nascosto per default -->
        <div id="loader" class="loader hidden">
            <div class="spinner"></div>
            <p>Generazione in corso...</p>
        </div>

        <footer>
            <p>Passaggio 3 di 4</p>
        </footer>
    </div>

    <script src="prompt.js"></script>
</body>
</html>
