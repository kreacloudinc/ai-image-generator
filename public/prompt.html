<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <t                        <div class="batch-info">
                            <p><strong>🚀 Batch Generation - Tutti i Provider</strong></p>
                            <small>I batch utilizzano il provider selezionato per generare multiple variazioni simultanee fino a 100 immagini in parallelo!</small>
                        </div>>Generatore Immagini AI - Prompt</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎨 Generatore Immagini AI</h1>
            <p>Descrivi l'immagine che vuoi generare</p>
        </header>

        <main class="prompt-section">
            <!-- Anteprima immagine originale -->
            <div class="original-image-preview">
                <h3>Immagine originale:</h3>
                <img id="originalImage" src="" alt="Immagine originale" class="small-preview">
            </div>

            <!-- Sezione prompt -->
            <div class="prompt-form">
                <div class="form-group">
                    <label for="promptText">Prompt descrittivo:</label>
                    <textarea 
                        id="promptText" 
                        placeholder="Descrivi dettagliatamente l'immagine che vuoi generare. Ad esempio: 'Trasforma questa immagine in uno stile cartoon colorato con sfondo fantastico e luci magiche...'"
                        rows="6"
                    ></textarea>
                    
                    <!-- Prompt predefiniti vicino al campo -->
                    <div class="prompt-presets">
                        <h4>💡 Prompt predefiniti:</h4>
                        <div class="presets-grid">
                            <button type="button" class="preset-btn" data-prompt="DO NOT ALTER THE FACE — use the uploaded image as reference and preserve facial features and expressions. Ultra-realistic face, sharp detail, cinematic lighting. A futuristic sci-fi pilot in a red and black armored flight suit with carbon fiber textures, tubes, tactical equipment, and insignias. Wearing a high-tech helmet with red glowing lights and built-in communications gear. Background is deep red with HUD-style holographic circles, data projections, and atmospheric lighting.">
                                ✈️ The Pilot
                            </button>
                            <button type="button" class="preset-btn" data-prompt="DO NOT ALTER THE FACE — use the uploaded image as reference and preserve facial features and expressions. Ultra-realistic face, sharp detail, cinematic lighting. A high-tech race car driver wearing a blue and black futuristic racing suit with red seams and padded details. Holding a glossy helmet with red neon stripes. Background is a red-lit racing environment with neon speed indicators, angular lights, and motion blur. Dynamic, realistic sci-fi composition.">
                                🏎️ The Racer
                            </button>
                            <button type="button" class="preset-btn" data-prompt="DO NOT ALTER THE FACE — use the uploaded image as reference and preserve facial features and expressions. Ultra-realistic face, sharp detail, cinematic lighting. A visionary futurist wearing a sleek dark bodysuit with glowing orange circuit lines. Transparent augmented reality glasses showing subtle holographic UI. Background is abstract with red digital circuits, floating holograms, and geometric tech elements. Clean, advanced, and minimal design aesthetic.">
                                🔮 The Futurist
                            </button>
                            <button type="button" class="preset-btn" data-prompt="DO NOT ALTER THE FACE — use the uploaded image as reference and preserve facial features and expressions. Ultra-realistic face, sharp detail, cinematic lighting. A futuristic designer holding a glowing red digital tablet with 3D holographic wireframes. Wearing a dark techwear jacket with illuminated seams and emblem. Red digital background with floating grids, interface elements, and creative tech lab atmosphere. Highly detailed and clean.">
                                🎨 The Designer
                            </button>
                            <button type="button" class="preset-btn" data-prompt="DO NOT ALTER THE FACE — use the uploaded image as reference and preserve facial features and expressions. Ultra-realistic face, sharp detail, cinematic lighting. Transform into a vintage outfit style - keep the exact same face but dress in elegant vintage clothing. The outfit should be historically accurate and beautifully detailed with period-appropriate accessories, hairstyle, and makeup. High-quality fashion photography with soft vintage lighting and authentic vintage atmosphere.">
                                👗 Vintage Outfit
                            </button>
                            <button type="button" class="preset-btn" data-prompt="CREATE IMAGE: Full-body avatar, exact same face from reference. Standing pose, white background, 9:16. Centered composition, realistic proportions. Modern style, studio lighting. GENERATE VISUAL IMAGE ONLY">
                                👤 Avatar Creator
                            </button>
                            <button type="button" class="preset-btn" data-prompt="CREATE IMAGE: Historical character, full-body standing pose. Period-accurate clothing from any era. White background, 9:16, centered. Dignified expression, era-appropriate style. Museum quality realism. GENERATE VISUAL IMAGE ONLY">
                                🏛️ Historical Figure
                            </button>
                        </div>
                    </div>
                    
                    <!-- Contatori -->
                    <div class="prompt-counters">
                        <div class="counter-item">
                            <span class="label">Caratteri:</span>
                            <span id="charCount">0</span>
                        </div>
                        <div class="counter-item">
                            <span class="label">Token stimati:</span>
                            <span id="tokenCount">0</span>
                        </div>
                    </div>
                </div>

                <!-- Negative Prompt (opzionale) -->
                <div class="negative-prompt-section">
                    <div class="form-group">
                        <label for="negativePrompt">🚫 Negative Prompt (opzionale):</label>
                        <textarea 
                            id="negativePrompt" 
                            placeholder="Descrivi cosa NON vuoi nell'immagine (es: blur, low quality, deformed, bad anatomy, extra limbs...)"
                            rows="3"
                        ></textarea>
                        <small class="negative-prompt-note">
                            💡 Supportato da Stability AI per migliorare la qualità evitando elementi indesiderati
                        </small>
                    </div>
                </div>

                <!-- Selezione Provider AI -->
                <div class="provider-selection">
                    <h4>🤖 Seleziona Provider AI:</h4>
                    <div class="provider-options">
                        <label class="provider-option">
                            <input type="radio" name="provider" value="both" checked>
                            <span class="provider-info">
                                <strong>🔥 Tutti (Confronto Completo)</strong>
                                <small>Tutti i 3 modelli AI - Migliore qualità e confronto</small>
                            </span>
                        </label>

                        <label class="provider-option">
                            <input type="radio" name="provider" value="openai">
                            <span class="provider-info">
                                <strong>🎨 OpenAI GPT Image 1</strong>
                                <small>Alta qualità - $0.080 per immagine</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="gemini">
                            <span class="provider-info">
                                <strong>🔮 Google Gemini 2.5</strong>
                                <small>Analisi e trasformazione - $0.339 per immagine</small>
                            </span>
                        </label>
                        <label class="provider-option">
                            <input type="radio" name="provider" value="stability">
                            <span class="provider-info">
                                <strong>⚡ Stability AI SDXL</strong>
                                <small>Stable Diffusion ottimizzato - $0.020 per immagine</small>
                            </span>
                        </label>
                    </div>
                </div>

                <!-- Batch Generation Settings -->
                <div class="batch-generation-section">
                    <h4>🔄 Generazione in Serie (Batch):</h4>
                    <div class="batch-options">
                        <label class="batch-option">
                            <input type="radio" name="generationType" value="single" checked>
                            <span class="batch-info">
                                <strong>🎯 Generazione Singola</strong>
                                <small>Genera una sola immagine</small>
                            </span>
                        </label>
                        <label class="batch-option">
                            <input type="radio" name="generationType" value="batch">
                            <span class="batch-info">
                                <strong>🔄 Generazione in Serie</strong>
                                <small>Ritera lo stesso prompt variando gli elementi</small>
                            </span>
                        </label>
                    </div>
                    
                    <div class="batch-settings" id="batchSettings" style="display: none;">
                        <div class="batch-info-notice">
                            <p><strong>🔮 Batch Generation - Solo Gemini</strong></p>
                            <small>I batch utilizzano esclusivamente Google Gemini per garantire coerenza e qualità ottimale delle variazioni</small>
                        </div>
                        <div class="form-group">
                            <label for="iterations">Numero di iterazioni:</label>
                            <div class="iterations-input">
                                <input type="range" id="iterationsRange" min="2" max="100" value="10" class="range-input">
                                <input type="number" id="iterations" min="2" max="1000" value="10" class="number-input">
                            </div>
                            <small class="iterations-note">
                                � Ogni iterazione varia elementi come outfit, angolazione, stile mantenendo il volto coerente. Supporta fino a 100 batch simultanei!
                            </small>
                        </div>
                        <div class="batch-preview">
                            <span>🎯 Genererà: <strong id="batchPreview">10 immagini</strong></span>
                            <span class="cost-estimate" id="costEstimate">💰 Costo stimato: $0.80</span>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="backBtn">
                        ← Indietro
                    </button>
                    <button type="button" class="btn btn-primary" id="generateBtn" disabled>
                        🎨 Genera Immagine
                    </button>
                </div>
            </div>

            <!-- Sezione loading -->
            <div class="loading-section" id="loadingSection" style="display: none;">
                <div class="spinner"></div>
                <p>Generazione in corso...</p>
                <p class="loading-detail">Questo potrebbe richiedere alcuni secondi</p>
            </div>

            <!-- Sezione errore -->
            <div class="error-section" id="errorSection" style="display: none;">
                <div class="error-message" id="errorMessage"></div>
                <button type="button" class="btn btn-secondary" id="retryBtn">
                    Riprova
                </button>
            </div>
        </main>

        <!-- Loader nascosto per default -->
        <div id="loader" class="loader hidden">
            <div class="spinner"></div>
            <p>Generazione in corso...</p>
        </div>

        <footer>
            <p>Passaggio 3 di 4</p>
        </footer>
    </div>

    <script src="prompt.js"></script>
</body>
</html>
